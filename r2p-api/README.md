# Шаги для создания платежа с нуля
* [X] Создание состояния (сессии, стейта, `state`)
* [X] ~~[Авторизация](#авторизация-пользователя) в виджете~~
* [X] Получение списка драйверов (банков)
* [X] [Подключение банка](#подключение-банка) (создание коннектора)
* [X] ~~Получение списка коннекторов~~
* [X] Получение списка счетов
* [X] Создание платежа

# Базовый URL
`r2p-beta.everypay.io`

# Авторизация
Авторизация заключается в передаче идентификатора `state_id`, полученного при создании стейта

При действиях в браузере (перенаправления и т.д.) идентификатор `state_id` передаётся в `query`-параметрах:
```
state=<state_id>
```

При выполнении `HTTP`-запросов (вызов методов `API`), идентификатор `state_id`
передаётся в заголовке `X-State-Id`:
```
X-State-Id: <state_id>
```

## Авторизация пользователя
* Направить пользователя по адресу `/oauth/authorize?state=<state_id>`

# Подключение банка
* Направить пользователя по адресу `/drivers/{driver}/authorize?state=<state_id>`

# Broadcasting
Драйвер - `pusher`

Использовать канал `state.<state_id>`, он **НЕ приватный**

## События
* Авторизация `authorized`
